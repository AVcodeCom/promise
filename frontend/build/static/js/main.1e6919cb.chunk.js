(this["webpackJsonpdo-list"]=this["webpackJsonpdo-list"]||[]).push([[0],{146:function(e,t,a){e.exports=a(159)},158:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),i=a(8),l=a.n(i),u=a(22),s=a(23),p=a(25),d=a(24),m=a(26),g=a(19),f=a(125),E="77.244.65.15:3527",h="PUT_NEW_NAME",y="PUT_NEW_DESCRIPTION";var b={method:"GET",headers:{Authorization:localStorage.getItem("Authorization")}},C=function(){return function(e){var t,a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/?status=N"),b));case 2:return t=n.sent,n.next=5,l.a.awrap(t.json());case 5:return a=n.sent,n.next=8,l.a.awrap(e({type:"GET_LIST",payload:a.results,page:a}));case 8:case"end":return n.stop()}}))}},O=a(214),v=Object(O.a)("div")({width:"12%",height:"30px",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",background:"#999999"}),j=function(e){var t=e.category,a=e.categoryList;return r.a.createElement(v,{style:{background:function(){var e="";return a.map((function(a){+a.id===+t&&(e=a.color)})),e}()}},function(){var e="";return a.map((function(a){+a.id===+t&&(e=a.name)})),e}())},x="OPEN_ChangES_CARD",w="CLOSE_ChangES_CARD",R="PUT_ITEM_ChangE",A="NEW_ITEM_NAME",T="NEW_ITEM_DESCRIPTION",k="PUT_NEW_CHANGE_CATEGORY",_="PUT_HANDLE_CHANGE_IMPORTANCE";var I=a(27),N=a(195),S=a(160),L=a(210),M=a(197),G=a(198),D=a(13),P=a.n(D),z=Object(O.a)("div")({width:"80%",marginTop:"120px",zIndex:"100"}),F=Object(O.a)("div")({width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",marginTop:"20px"}),H=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(N.a,Object.assign({variant:"contained"},t))}))({background:P.a[400],color:P.a[50],width:"50%"}),U=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({component:"h6",variant:"body1"},t))}))({color:P.a[400]}),W=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({component:"p",variant:"body1"},t))}))({flexGrow:1}),Y=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({component:"h6",variant:"body1"},t))}))({color:"#333333",flexGrow:1}),B=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({component:"p",variant:"body1"},t))}))({color:P.a[400],"& span":{color:"#000"}}),V=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(L.a,t)}))({margin:"10px 0",width:"100%"}),K=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(M.a,t)}))({paddingLeft:15,borderBottom:"1px solid rgba(0, 0, 0, .125)",display:"flex",justifyContent:"space-between",margin:"0px"}),Q=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(G.a,t)}))({display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"space-between"}),J=Object(O.a)("div")({width:"50%",minWidth:300,display:"flex",flexDirection:"column",justifyContent:"space-between"}),X=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).importanceColor=function(e){return"L"===e?"51,153,0":"M"===e?"255,204,51":"H"===e?"204,0,0":void 0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.newStatus,c=t.openChangesCard,o=t.putItemChanges,i=t.categoryList;return console.log(a),r.a.createElement(z,null,a.map((function(t){return r.a.createElement(V,{key:t.id},r.a.createElement(K,{style:{border:"1.5px solid rgba(".concat(e.importanceColor(t.importance),")"),background:"rgba(".concat(e.importanceColor(t.importance),",0.3)")}},r.a.createElement(Y,null,t.name),r.a.createElement(j,{category:t.category,categoryList:i})),r.a.createElement(Q,null,r.a.createElement(J,null,r.a.createElement(U,null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438:"),r.a.createElement(W,null,"".concat(t.description)),r.a.createElement(F,null,r.a.createElement(H,{onClick:function(){return n(t)}},"Y"===t.status?"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e"))),r.a.createElement(J,null,r.a.createElement(B,null,"\u0421\u0442\u0430\u0442\u0443\u0441:",r.a.createElement("span",null,"Y"===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e":" \u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e")),r.a.createElement(B,null,"\u0412\u0430\u0436\u043d\u043e\u0441\u0442\u044c:",r.a.createElement("span",null,"L"===t.importance?" \u041d\u0435 \u0432\u0430\u0436\u043d\u043e":"M"===t.importance?" \u0412\u0430\u0436\u043d\u043e":" \u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e")),r.a.createElement(B,null,"\u0414\u0435\u0434\u043b\u0430\u0439\u043d:",r.a.createElement("span",null,t.deadline)),r.a.createElement(F,null,r.a.createElement(H,{onClick:function(){c(),o(t)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))})))}}]),t}(n.Component),q=Object(g.b)((function(e){return{list:e.listReducer.list,categoryList:e.categoryListReducer.categoryList}}),(function(e){return{putItemChanges:function(t){return e(function(e){return{type:R,payload:e}}(t))},openChangesCard:function(){return e({type:x,payload:!0})},newStatus:function(t){return e(function(e){return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(t({type:"NEW_STATUS",payload:e}));case 2:return(a=new FormData).append("status","Y"===e.status?"N":"Y"),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},r.next=7,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/").concat(e.slug,"/"),n));case 7:case"end":return r.stop()}}))}}(t))}}}))(X),Z=a(42),$=a.n(Z),ee=a(217),te=a(213),ae=a(199),ne=a(161),re=a(215),ce=a(208),oe=a(117),ie=a.n(oe),le=Object(O.a)("div")({padding:"15px",width:"350px"}),ue=Object(O.a)("p")({color:"#8d8d8d",fontSize:"12px"}),se=Object(O.a)("div")({border:"1px solid #bdbdbd",borderRadius:"4px",padding:"10px"}),pe=Object(O.a)(ne.a)({position:"absolute",right:0,top:0}),de=Object(O.a)("span")({color:P.a[400],fontSize:"19px"}),me=Object(O.a)("p")({color:P.a[300],fontSize:"16px",marginBottom:"5px"}),ge=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(N.a,Object.assign({variant:"contained"},t))}))({margin:"20px 0 10px",background:P.a[400],color:P.a[50],width:"100%"}),fe=Object(O.a)(re.a)({color:P.a[500],border:"1px solid ".concat(P.a[500]),borderRadius:"5px",width:"100%",padding:"10px"}),Ee=Object(O.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),he=Object(O.a)("div")({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& span":{fontSize:"14px",color:P.a[400]}}),ye=Object(O.a)(N.a)({color:P.a[400]}),be=Object(O.a)(ie.a)({fontSize:"17px",textAlign:"center",border:"1px solid ".concat(P.a[500]),borderRadius:"5px",width:"130px",padding:"5px 10px",outline:"none"}),Ce=function(e){return r.a.createElement(ce.a,Object.assign({disableRipple:!0,color:"default"},e))},Oe=function(e){var t=e.categoryList,a=e.category,n=e.putNewChangeCategory;return r.a.createElement("div",null,r.a.createElement(te.a,{name:"category",value:a,onChange:function(e){var t=e.target.value;n(t)}},t.map((function(e){return r.a.createElement(ae.a,{key:e.id,value:String(e.id),control:r.a.createElement(Ce,null),label:e.name})}))))},ve=a(211),je=a(209);function xe(e){return r.a.createElement(je.a,Object.assign({elevation:6,variant:"filled"},e))}var we=function(e){var t=e.message,a=e.closeMessage;return r.a.createElement("span",null,r.a.createElement(ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(t),autoHideDuration:6e3},r.a.createElement(xe,{style:{background:"error"===t?"#da1e28":"#198038"},severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{onClick:function(){return a()},size:"small",color:"inherit"},r.a.createElement($.a,{fontSize:"small"})))},"error"===t?"\u041e\u0448\u0438\u0431\u043a\u0430!  \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0438\u043b\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0441\u0435\u0442\u0438":"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430 ")))},Re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).Change=function(e){var t=e.target,n=t.name,r=t.value;a.props.putNewItem(n,r)},a.handleChangeImportance=function(e){var t=e.target.value;a.props.putHandleChangeImportance(t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.closeChangesCard,a=e.isOpenChangesCard,n=e.itemChange,c=e.changeItem,o=e.categoryList,i=e.putNewChangeCategory,l=e.message,u=e.closeMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{anchor:"right",open:a,onClose:function(){t()}},r.a.createElement(le,null,r.a.createElement(de,null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),r.a.createElement(pe,{onClick:function(){return t()}},r.a.createElement($.a,null)),r.a.createElement(me,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "),r.a.createElement(ue,null,"*\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u041d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.a.createElement(fe,{name:"name",value:n.name,onChange:this.Change}),r.a.createElement(me,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),r.a.createElement(fe,{name:"description",value:n.description,onChange:this.Change,multiline:!0,rows:"5"}),r.a.createElement(me,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: "),r.a.createElement(se,null,r.a.createElement(Oe,{categoryList:o,category:n.category,putNewChangeCategory:i})),r.a.createElement(me,null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438: "),r.a.createElement(se,null,r.a.createElement(te.a,{name:"importance",value:n.importance,onChange:this.handleChangeImportance},r.a.createElement(ae.a,{value:"L",control:r.a.createElement(Ce,null),label:"\u041d\u0435 \u0432\u0430\u0436\u043d\u043e"}),r.a.createElement(ae.a,{value:"M",control:r.a.createElement(Ce,null),label:"\u0412\u0430\u0436\u043d\u043e"}),r.a.createElement(ae.a,{value:"H",control:r.a.createElement(Ce,null),label:"\u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e"}))),r.a.createElement(ge,{onClick:function(){c(n),t()}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))),r.a.createElement(we,{message:l,closeMessage:u}))}}]),t}(n.Component),Ae=Object(g.b)((function(e){return{isOpenChangesCard:e.changesCardReducer.isOpenChangesCard,itemChange:e.changesCardReducer.itemChange,categoryList:e.categoryListReducer.categoryList,message:e.listReducer.message}}),(function(e){return{putNewChangeCategory:function(t){return e({type:k,payload:t})},putHandleChangeImportance:function(t){return e({type:_,payload:t})},closeChangesCard:function(){return e({type:w,payload:!1})},changeItem:function(t){return e(function(e){return function(t){var a,n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,l.a.awrap(t({type:"NEW_CHANGE",payload:e}));case 2:return(a=new FormData).append("name",e.name),a.append("description",e.description),a.append("category",e.category),a.append("importance",e.importance),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},c.next=10,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/").concat(e.slug,"/"),n));case 10:if(!(r=c.sent).ok){c.next=16;break}return c.next=14,l.a.awrap(t({type:"MESSAGE_NEW_CARD",payload:"good"}));case 14:c.next=19;break;case 16:if(r.ok){c.next=19;break}return c.next=19,l.a.awrap(t({type:"MESSAGE_NEW_CARD",payload:"error"}));case 19:case"end":return c.stop()}}))}}(t))},putNewItem:function(t,a){return e(function(e,t){switch(e){case"name":return{type:A,payload:t.slice(0,20)};case"description":return{type:T,payload:t}}}(t,a))},closeMessage:function(){return e({type:"CLOSE_MESSAGE"})}}}))(Re),Te=a(207),ke=Object(O.a)("div")({flexGrow:1}),_e=Object(O.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),Ie=Object(O.a)("div")({position:"fixed",width:"calc(80% - 240px)",height:"auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",padding:"20px 10%",margin:"55px auto",zIndex:"200",background:"#f7f7f7"}),Ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handlePagination=function(e){a.props.setPage(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.pageNumber,n=Math.ceil(t.count/15);return r.a.createElement(ke,null,r.a.createElement(Ae,null),r.a.createElement(Ie,null,n<1?null:r.a.createElement(Te.a,{count:n,variant:"outlined",shape:"rounded",page:a,onChange:this.handlePagination})),r.a.createElement(_e,null,r.a.createElement(q,null)))}}]),t}(n.Component),Se=Object(g.b)((function(e){return{page:e.listReducer.page,pageNumber:e.listReducer.pageNumber}}),(function(e){return{setPage:function(t){return e(function(e){return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/?page=").concat(e),b));case 2:return a=r.sent,r.next=5,l.a.awrap(a.json());case 5:return n=r.sent,r.next=8,l.a.awrap(t({type:"SET_PAGE",payload:n.results,pageNumber:e}));case 8:case"end":return r.stop()}}))}}(t))}}}))(Ne),Le=a(202),Me=a(216),Ge=a(126),De=a(50),Pe="OPEN_ACCAUNT_MENU";var ze="EXIT_ACCAUNT",Fe="CLOSE_ERROR";var He=a(201),Ue=a(118),We=a.n(Ue),Ye=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"h4"},t))}))({color:"#ffffff",flexGrow:1}),Be=Object(O.a)(N.a)({"& a":{color:"#ffffff",textDecoration:"none"}}),Ve=Object(O.a)(He.a)({background:"#607d8b",position:"fixed",zIndex:"500",height:"55px"}),Ke=Object(O.a)(We.a)({color:"#ffffff",width:"30px",height:"30px",borderRadius:"50%"}),Qe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAutorisation,a=e.openAccauntMenu,c=e.accauntMenu,o=e.exitAccaunt;return r.a.createElement(Ve,null,r.a.createElement(Le.a,{variant:"dense"},r.a.createElement(Ye,null,"Promise"),t?r.a.createElement(n.Fragment,null,r.a.createElement(ne.a,{onClick:function(){return a()}},r.a.createElement(Ke,null)),r.a.createElement(Ge.a,{getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},open:c,onClick:function(){return a()}},r.a.createElement(Me.a,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(Me.a,{onClick:function(){o()}},"\u0412\u044b\u0439\u0442\u0438"))):r.a.createElement(n.Fragment,null,r.a.createElement(Be,null,r.a.createElement(De.b,{to:"/registration"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(Be,null,r.a.createElement(De.b,{to:"/"},"\u0412\u0445\u043e\u0434")))))}}]),t}(n.Component),Je=Object(g.b)((function(e){return{accauntMenu:e.changeEntranceReducer.accauntMenu}}),(function(e){return{openAccauntMenu:function(){return e({type:Pe})},exitAccaunt:function(){return e((localStorage.clear(),{type:ze}))}}}))(Qe);var Xe=Object(O.a)((function(e){return r.a.createElement(je.a,Object.assign({elevation:6,variant:"filled"},e))}))({background:"#e57373"}),qe=function(e){var t=e.registerError,a=e.closeErrorRegistration;return r.a.createElement("span",null,r.a.createElement(ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t.error,autoHideDuration:6e3},r.a.createElement(Xe,{severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{onClick:function(){return a()},size:"small","aria-label":"close",color:"inherit"},r.a.createElement($.a,{fontSize:"small"})))},r.a.createElement("span",null,t.errorLoginValue),r.a.createElement("span",null,t.errorEmailValue),r.a.createElement("span",null,t.errorPasswordValue))))},Ze=Object(O.a)(re.a)({border:"1px solid ".concat(P.a[300]),borderRadius:"5px",width:"320px",padding:"10px",marginBottom:"15px"}),$e=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(N.a,Object.assign({variant:"contained"},t))}))({background:P.a[400],color:P.a[50],width:"320px"}),et=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"h2",gutterBottom:!0},t))}))({margin:"20px 0 10px",color:P.a[400],fontSize:"54px"}),tt=Object(O.a)("div")({maxWidth:"400px",width:"100%",height:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),at=function(e){var t=e.registration,a=e.registerError,c=e.closeErrorRegistration,o=Object(n.createRef)(),i=Object(n.createRef)(),l=Object(n.createRef)(),u=function(){t(o.current.value,i.current.value,l.current.value)};return r.a.createElement("div",null,r.a.createElement(tt,{onKeyUp:function(e){"Enter"===e.key&&u()}},r.a.createElement(et,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(Ze,{placeholder:"\u041b\u043e\u0433\u0438\u043d",inputRef:i}),r.a.createElement(Ze,{placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",inputRef:o}),r.a.createElement(Ze,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",inputRef:l}),r.a.createElement($e,{onClick:u},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(qe,{registerError:a,closeErrorRegistration:c}))},nt=function(){return r.a.createElement(tt,null,r.a.createElement(et,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e..."),r.a.createElement(et,null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"))},rt="CLOSE_ERROR";var ct=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.registration,a=e.registerError,n=e.closeErrorRegistration;return r.a.createElement(r.a.Fragment,null,this.props.okRegistration?r.a.createElement(nt,null):r.a.createElement(at,{registration:t,registerError:a,closeErrorRegistration:n}))}}]),t}(n.Component),ot=Object(g.b)((function(e){return{registerError:e.registrationReducer.errors,okRegistration:e.registrationReducer.okRegistration}}),(function(e){return{registration:function(t,a,n){return e(function(e,t,a){return function(n){var r,c,o,i;return l.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return(r=new FormData).append("username",t),r.append("password",a),r.append("email",e),c={method:"POST",body:r},u.next=7,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/auth/users/"),c));case 7:return o=u.sent,u.next=10,l.a.awrap(o.json());case 10:if(i=u.sent,!o.ok){u.next=16;break}return u.next=14,l.a.awrap(n({type:"OK_REGISTRATION"}));case 14:u.next=20;break;case 16:if(o.ok){u.next=20;break}return u.next=19,l.a.awrap(n({type:"ERROR",login:i.username,email:i.email,password:i.password}));case 19:console.log(i);case 20:case"end":return u.stop()}}))}}(t,a,n))},closeErrorRegistration:function(){return e({type:rt})}}}))(ct);var it=Object(O.a)((function(e){return r.a.createElement(je.a,Object.assign({elevation:6,variant:"filled"},e))}))({background:"#e57373"}),lt=function(e){var t=e.errorAutorisation,a=e.closeError;return r.a.createElement("span",null,r.a.createElement(ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:6e3},r.a.createElement(it,{severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{onClick:function(){return a()},size:"small","aria-label":"close",color:"inherit"},r.a.createElement($.a,{fontSize:"small"})))},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")))},ut=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).loginValue=Object(n.createRef)(),a.passwordValue=Object(n.createRef)(),a.toAutrosation=function(){var e,t,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props,t=e.autorisation,n=e.newList,r.next=3,l.a.awrap(t(a.loginValue.current.value,a.passwordValue.current.value));case 3:return r.next=5,l.a.awrap(n());case 5:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.errorAutorisation,n=t.closeError;return r.a.createElement("div",null,r.a.createElement(tt,{onKeyUp:function(t){"Enter"===t.key&&e.toAutrosation()}},r.a.createElement(et,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(Ze,{placeholder:"\u041b\u043e\u0433\u0438\u043d",inputRef:this.loginValue}),r.a.createElement(Ze,{placeholder:"Password",type:"password",autoComplete:"current-password",inputRef:this.passwordValue}),r.a.createElement($e,{onClick:this.toAutrosation},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(lt,{errorAutorisation:a,closeError:n}))}}]),t}(n.Component),st=Object(g.b)((function(e){return{errorAutorisation:e.tokenReducer.errorAutorisation}}),(function(e){return{newList:function(){return e(C())},autorisation:function(t,a){return e(function(e,t){return function(a){var n,r,c,o;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new FormData).append("username",e),n.append("password",t),r={method:"POST",body:n},i.next=6,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/auth/jwt/create/"),r));case 6:return c=i.sent,i.next=9,l.a.awrap(c.json());case 9:if(o=i.sent,!c.ok){i.next=23;break}return i.next=13,l.a.awrap(localStorage.setItem("Authorization","Bearer ".concat(o.access)));case 13:return i.next=15,l.a.awrap(localStorage.setItem("remember","true"));case 15:return i.next=17,l.a.awrap(localStorage.setItem("tokenData",Date.now()));case 17:return i.next=19,l.a.awrap(localStorage.setItem("refresh",o.refresh));case 19:return i.next=21,l.a.awrap(a({type:"PUT_NEW_TOKEN",payload:"Bearer ".concat(o.access)}));case 21:i.next=27;break;case 23:return i.next=25,l.a.awrap(localStorage.clear());case 25:return i.next=27,l.a.awrap(a({type:"ERROR_REQUEST"}));case 27:case"end":return i.stop()}}))}}(t,a))},closeError:function(){return e({type:Fe})}}}))(ut),pt="CLICK_CATEGORY",dt="CLICK_IMPORTANCE";var mt="OPEN_NEW_CARD",gt="CLOSE_TOP_CARD",ft="IMPORTANCE_CHANGE",Et="DEADLINE_CHANGE",ht="DEADLINE_TIME_CHANGE";var yt=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(ee.a,Object.assign({variant:"permanent"},t))}))({width:"240px",background:"#ffffff",zIndex:"250",flexShrink:0,"& .MuiDrawer-paper":{top:"57px",height:"calc(100% - 55px)"}}),bt=Object(O.a)("div")({padding:"20px 0",borderBottom:"1px solid rgba(0, 0, 0, .125) ",width:"240px",display:"flex",flexDirection:"column"}),Ct=Object(O.a)("span")({padding:"10px 20px","&:hover":{cursor:"pointer",background:"#cfd8dc",opacity:.7},"& a":{color:"rgba(0, 0, 0, 0.87)",textDecoration:"none"}}),Ot=Object(O.a)("span")({display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"spaceBetween",fontSize:"16px",margin:"0px",padding:"10px 20px",color:"#78909c","& h3":{margin:0},"&:hover":{cursor:"pointer"}}),vt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.clickCategory,a=e.clickImportence,n=e.isOpenCategory,c=e.isOpenImportance,o=e.categoryList,i=e.openNewCard,l=e.filterList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null,r.a.createElement("section",null,r.a.createElement(bt,null,r.a.createElement(Ct,{onClick:function(){i()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement(Ct,null,r.a.createElement(De.b,{to:"/settings"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(bt,null,r.a.createElement(Ct,{onClick:function(){l("status","N")}},"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e"),r.a.createElement(Ct,{onClick:function(){l("status","Y")}},r.a.createElement(De.b,{to:"/"},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e"))),r.a.createElement(bt,null,r.a.createElement(Ot,{onClick:function(){return a()}},r.a.createElement("h3",null,"\u0412\u0430\u0436\u043d\u043e\u0441\u0442\u044c")),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{onClick:function(){l("importance","L")}},"\u041d\u0435 \u0432\u0430\u0436\u043d\u043e"),r.a.createElement(Ct,{onClick:function(){l("importance","M")}},"\u0412\u0430\u0436\u043d\u043e"),r.a.createElement(Ct,{onClick:function(){l("importance","H")}},"\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0436\u043d\u043e")):null),r.a.createElement(bt,null,r.a.createElement(Ot,{onClick:function(){return t()}},r.a.createElement("h3",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),n?r.a.createElement(r.a.Fragment,null,o.map((function(e){return r.a.createElement(Ct,{key:e.id,onClick:function(){l("category",e.id)}},e.name)})),r.a.createElement(Ct,{onClick:function(){l("category",null)}},"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")):null))))}}]),t}(n.Component),jt=Object(g.b)((function(e){return{isOpenCategory:e.menuReducer.isOpenCategory,isOpenImportance:e.menuReducer.isOpenImportance,categoryList:e.categoryListReducer.categoryList}}),(function(e){return{clickCategory:function(){return e({type:pt})},clickImportence:function(){return e({type:dt})},openNewCard:function(){return e({type:mt,payload:!0})},filterList:function(t,a){return e(function(e,t){return function(a){var n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/?").concat(e,"=").concat(t),b));case 2:return n=c.sent,c.next=5,l.a.awrap(n.json());case 5:return r=c.sent,c.next=8,l.a.awrap(a({type:"FILTER_LIST",payload:r.results}));case 8:case"end":return c.stop()}}))}}(t,a))}}}))(vt),xt=["#FF0000","#FF0099","#9933CC","#3366FF","#339966","#CCFF33","#996600"],wt=Object(O.a)((function(e){var t=Object(I.a)({},e);return r.a.createElement(N.a,Object.assign({variant:"contained"},t))}))({background:P.a[400],color:P.a[50],maxWidth:"280px",marginBottom:"20px",marginRight:"20px"}),Rt=Object(O.a)("div")({flexGrow:1,marginTop:"55px",padding:"20px 50px"}),At=Object(O.a)("div")({width:"40%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"15px 0"}),Tt=Object(O.a)("span")({width:"35px",height:"35px",borderRadius:"5px",marginRight:"10px","&:hover":{cursor:"pointer"}}),kt=Object(O.a)(re.a)({fontSize:"15px",textAlign:"center",border:"1px solid ".concat(P.a[500]),borderRadius:"5px",width:"40%",padding:"5px 10px",outline:"none"}),_t=Object(O.a)("p")({flexGrow:1,margin:0}),It=Object(O.a)("span")({display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"spaceBetween",fontSize:"20px",margin:"0px",color:"#78909c"}),Nt=Object(O.a)(ne.a)({marginLeft:"15px",width:"30px",height:"30px",color:P.a[600],background:P.a[50]}),St=function(e){var t=e.itemChangeCategory,a=e.putNewItemCategory,n=e.closeChangeCategory,c=e.changeItemCategory,o=e.putNewColorCategory;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(kt,{value:t.name,onChange:function(e){var t=e.target.value;a(t)},style:{border:"1.5px solid ".concat(t.color)}})),r.a.createElement(At,null,xt.map((function(e){return r.a.createElement(Tt,{key:e,style:{background:e,borderRadius:t.color===e?"50%":"5px",boxShadow:t.color===e?"0px 0px 12px 1px #78909C":"none"},onClick:function(){return o(e)}})}))),r.a.createElement(wt,{onClick:function(){c(t),n()}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(wt,{onClick:function(){return n()}},"\u041e\u0442\u043c\u0435\u043d\u0430"))},Lt=a(119),Mt=a.n(Lt),Gt=a(120),Dt=a.n(Gt),Pt="PUT_ITEM_CHANGE_CATEGORY",zt="PUT_NEW_ITEM_CATEGORY",Ft="PUT_SELECT_CATEGORY_COLOR",Ht="PUT_NEW_COLOR_CATEGORY";var Ut=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).inputCategory=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.putNewCategory,c=t.categoryList,o=t.putItemChangesCategory,i=t.itemChangeCategory,l=t.openChangeCategory,u=t.closeChangeCategory,s=t.putNewItemCategory,p=t.changeItemCategory,d=t.deleteItemCategory,m=t.putSelectCategoryColor,g=t.selectCategoryColor,f=t.putNewColorCategory;console.log(c);var E=l?r.a.createElement(St,{itemChangeCategory:i,putNewItemCategory:s,closeChangeCategory:u,changeItemCategory:p,putNewColorCategory:f}):null;return r.a.createElement(Rt,null,r.a.createElement(et,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(It,null,r.a.createElement("h3",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),r.a.createElement("div",null,c.map((function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(At,null,r.a.createElement(_t,null,e.name," "),r.a.createElement(Nt,{onClick:function(){return d(e)}},r.a.createElement(Mt.a,null)),r.a.createElement(Nt,{onClick:function(){return o(e)}},r.a.createElement(Dt.a,null))),i.id===e.id?E:null)}))),r.a.createElement("div",null,r.a.createElement(kt,{inputRef:this.inputCategory,style:{border:"1.5px solid ".concat(g)}})),r.a.createElement(At,null,xt.map((function(e){return r.a.createElement(Tt,{key:e,style:{background:e,borderRadius:g===e?"50%":"5px",boxShadow:g===e?"0px 0px 12px 1px #78909C":"none"},onClick:function(){return m(e)}})}))),r.a.createElement(wt,{onClick:function(){return a(e.inputCategory.current.value,g)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),t}(n.Component),Wt=Object(g.b)((function(e){return{newCategory:e.newCardReducer.newCategory,categoryList:e.categoryListReducer.categoryList,itemChangeCategory:e.categoryListReducer.itemChangeCategory,openChangeCategory:e.categoryListReducer.openChangeCategory,selectCategoryColor:e.categoryListReducer.selectCategoryColor}}),(function(e){return{putNewCategory:function(t,a){return e(function(e,t){return function(a){var n,r;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,l.a.awrap(a({type:"PUT_NEW_CATEGORY",payload:{name:e,color:t}}));case 2:return(n=new FormData).append("name",e),n.append("color",t),r={body:n,headers:{Authorization:localStorage.getItem("Authorization")},method:"POST"},c.next=8,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/category/new/"),r));case 8:case"end":return c.stop()}}))}}(t,a))},putSelectCategoryColor:function(t){return e(function(e){return{type:Ft,payload:e}}(t))},closeChangeCategory:function(){return e({type:"CLOSE_CATEGORY_CHANGE"})},putNewItemCategory:function(t){return e(function(e){return{type:zt,payload:e}}(t))},putNewColorCategory:function(t){return e(function(e){return{type:Ht,payload:e}}(t))},changeItemCategory:function(t){return e(function(e){return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(t({type:"CHANGE_ITEM_CATEGORY",payload:e}));case 2:return(a=new FormData).append("name",e.name),a.append("color",e.color),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},r.next=8,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/category/").concat(e.id,"/"),n));case 8:case"end":return r.stop()}}))}}(t))},putItemChangesCategory:function(t){return e(function(e){return{type:Pt,payload:e}}(t))},deleteItemCategory:function(t){return e(function(e){return function(t){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(t({type:"DELETE_ITEM_CATEGORY",payload:e}));case 2:return a={headers:{Authorization:localStorage.getItem("Authorization")},method:"DELETE"},n.next=5,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/category/").concat(e.id,"/"),a));case 5:case"end":return n.stop()}}))}}(t))}}}))(Ut),Yt=a(103),Bt=a(7),Vt=a(124),Kt=a(204),Qt=a(205),Jt=a(30),Xt=a(123),qt=Object(Vt.a)({palette:{primary:P.a}}),Zt=Object(Bt.a)({root:{width:"100%",margin:"10px 0 25px",fontSize:"17px","& label.Mui-focused":{color:P.a[400]},"& .MuiInput-underline:after":{borderBottomColor:P.a[400]},"&:hover .MuiInput-underline:after":{borderBottomColor:P.a[400]},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:P.a[400]},"&:hover fieldset":{borderColor:P.a[400]},"&.Mui-focused fieldset":{borderColor:P.a[400]}}}})(Qt.a),$t=function(e){var t=e.deadline,a=e.deadlineChange,n=e.deadlineTimeChange,c=e.deadlineTime,o=function(e){a(Object(f.a)(e,"yyyy-MM-dd"))};return r.a.createElement(Ee,null,r.a.createElement(he,null,r.a.createElement(ye,{onClick:function(){return o(new Date)}},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),r.a.createElement(ye,{onClick:function(){return o(Object(Yt.a)(new Date,1))}},"\u0417\u0430\u0432\u0442\u0440\u0430"),r.a.createElement(ye,{onClick:function(){return o(Object(Yt.a)(new Date,7))}},"\u0427\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e")),r.a.createElement(Kt.a,{theme:qt},r.a.createElement(Jt.a,{utils:Xt.a},r.a.createElement(Zt,{disableToolbar:!0,variant:"inline",format:"yyyy.MM.dd",label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0434\u0430\u0442\u0443",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(he,null,r.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f:"),r.a.createElement(be,{initTime:c,onTimeChange:function(e){n(e)}})))},ea=function(e){var t=e.categoryList,a=e.category,n=e.categoryChange;return r.a.createElement("div",null,r.a.createElement(te.a,{name:"category",value:a,onChange:function(e){var t=e.target.value;n(t)}},t.map((function(e){return r.a.createElement(ae.a,{key:e.name,value:String(e.id),control:r.a.createElement(Ce,null),label:e.name})}))))},ta=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChangeImportance=function(e){var t=e.target.value;a.props.importanceChange(t)},a.Change=function(e){var t=e.target,n=t.name,r=t.value;a.props.putNewRecord(n,r)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isOpenNewCard,n=t.closeNewCard,c=t.newPointList,o=t.importance,i=t.deadline,l=t.deadlineTime,u=t.deadlineChange,s=t.deadlineTimeChange,p=t.categoryList,d=t.category,m=t.categoryChange,g=t.message,f=t.closeMessage,E=t.name,h=t.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{anchor:"right",open:a,onClose:function(){n()}},r.a.createElement(le,null,r.a.createElement(de,null,"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"),r.a.createElement(pe,{onClick:function(){return n()}},r.a.createElement($.a,null)),r.a.createElement(me,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "),r.a.createElement(ue,null,"*\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u041d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.a.createElement(fe,{name:"name",value:E,onChange:this.Change}),r.a.createElement(me,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),r.a.createElement(fe,{name:"description",value:h,onChange:this.Change,multiline:!0,rows:"5"}),r.a.createElement(me,null,"\u0414\u0435\u0434\u043b\u0430\u0439\u043d: "),r.a.createElement(se,null,r.a.createElement($t,{deadline:i,deadlineChange:u,deadlineTimeChange:s,deadlineTime:l})),r.a.createElement(me,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: "),r.a.createElement(se,null,r.a.createElement(ea,{categoryList:p,category:d,categoryChange:m})),r.a.createElement(me,null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438: "),r.a.createElement(se,null,r.a.createElement(te.a,{name:"importance",value:o,onChange:this.handleChangeImportance},r.a.createElement(ae.a,{value:"L",control:r.a.createElement(Ce,null),label:"\u041d\u0435 \u0432\u0430\u0436\u043d\u043e"}),r.a.createElement(ae.a,{value:"M",control:r.a.createElement(Ce,null),label:"\u0412\u0430\u0436\u043d\u043e"}),r.a.createElement(ae.a,{value:"H",control:r.a.createElement(Ce,null),label:"\u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e"}))),r.a.createElement(ge,{onClick:function(){c(e.inputName.current.value,e.inputDescription.current.value,o,i,l,d),n()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),r.a.createElement(we,{message:g,closeMessage:f}))}}]),t}(n.Component),aa=Object(g.b)((function(e){return{isOpenNewCard:e.newCardReducer.isOpenNewCard,importance:e.newCardReducer.importance,deadline:e.newCardReducer.deadline,deadlineTime:e.newCardReducer.deadlineTime,categoryList:e.categoryListReducer.categoryList,category:e.categoryListReducer.category,message:e.listReducer.message,name:e.listReducer.name,description:e.listReducer.description}}),(function(e){return{closeNewCard:function(){return e({type:gt,payload:!1})},putNewRecord:function(t,a){return e(function(e,t){switch(e){case"name":return{type:h,payload:t.slice(0,20)};case"description":return{type:y,payload:t}}}(t,a))},importanceChange:function(t){return e(function(e){return{type:ft,payload:e}}(t))},categoryChange:function(t){return e(function(e){return{type:"CATEGORY_CHANGE",payload:e}}(t))},deadlineChange:function(t){return e(function(e){return{type:Et,payload:e}}(t))},deadlineTimeChange:function(t){return e(function(e){return{type:ht,payload:e}}(t))},closeMessage:function(){return e({type:"CLOSE_MESSAGE"})},newPointList:function(t,a,n,r,c,o){return e(function(e,t,a,n,r,c){return function(o){var i,u,s,p;return l.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,l.a.awrap(o({type:"PUT_NEW_POINT_LIST",payload:{id:Date.now(),name:e,description:t,status:"N",importance:a,deadline:n+" "+r,category:c}}));case 2:return console.log(r),i=new FormData,u=Object(f.a)(new Date(n+" "+r),"yyyy-MM-dd HH:mm"),i.append("name",e),i.append("description",t),i.append("status","N"),i.append("importance",a),i.append("deadline",u),i.append("category",c),s={body:i,headers:{Authorization:localStorage.getItem("Authorization")},method:"POST"},d.next=14,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/promise/new/"),s));case 14:if(!(p=d.sent).ok){d.next=20;break}return d.next=18,l.a.awrap(o({type:"MESSAGE_NEW_CARD",payload:"good"}));case 18:d.next=23;break;case 20:if(p.ok){d.next=23;break}return d.next=23,l.a.awrap(o({type:"MESSAGE_NEW_CARD",payload:"error"}));case 23:case"end":return d.stop()}}))}}(t,a,n,r,c,o))}}}))(ta),na=Object(O.a)("div")({minHeight:"100vh"}),ra=Object(O.a)("div")({width:"100%",height:"90vh",display:"flex",alignItems:"center",justifyContent:"center"}),ca=Object(O.a)("div")({display:"flex"}),oa=a(20),ia=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,c,o;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.isAutorisation,a=e.newTokenFromRefresh,n=e.newList,r=e.newCategoryList,i.next=3,l.a.awrap(localStorage.getItem("remember"));case 3:return i.t0=i.sent,c="true"===i.t0,i.next=7,l.a.awrap(localStorage.getItem("tokenData"));case 7:if(o=i.sent,!c){i.next=17;break}if(!t){i.next=16;break}return i.next=12,l.a.awrap(a());case 12:return i.next=14,l.a.awrap(r());case 14:return i.next=16,l.a.awrap(n());case 16:Date.now()>=5e3*o&&a();case 17:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.isAutorisation;return r.a.createElement(na,null,r.a.createElement(Je,{isAutorisation:e}),r.a.createElement(oa.c,null,e?r.a.createElement(n.Fragment,null,r.a.createElement(ca,null,r.a.createElement(jt,null),r.a.createElement(aa,null),r.a.createElement(oa.a,{component:Se,path:"/",exact:!0}),r.a.createElement(oa.a,{component:Wt,path:"/settings"}))):r.a.createElement(n.Fragment,null,r.a.createElement(ra,null,r.a.createElement(oa.a,{exact:!0,component:st,path:"/"}),r.a.createElement(oa.a,{exact:!0,component:ot,path:"/registration"})))))}}]),t}(n.Component),la=Object(g.b)((function(e){return{isAutorisation:e.tokenReducer.isAutorisation,parameters:e.listReducer.parameters}}),(function(e){return{newList:function(){return e(C())},newTokenFromRefresh:function(){return e((function(e){var t,a,n,r,c;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=localStorage.getItem("refresh"),(a=new FormData).append("refresh",t),n={body:a,method:"POST"},o.next=6,l.a.awrap(fetch("http://".concat(E,"/api/v1/data/auth/jwt/refresh/"),n));case 6:if(!(r=o.sent).ok){o.next=17;break}return o.next=10,l.a.awrap(r.json());case 10:return c=o.sent,o.next=13,l.a.awrap(localStorage.setItem("Authorization","Bearer ".concat(c.access)));case 13:return o.next=15,l.a.awrap(e({type:"PUT_NEW_TOKEN_FROM_REFRESH",payload:"Bearer ".concat(c.access)}));case 15:o.next=21;break;case 17:return o.next=19,l.a.awrap(localStorage.clear());case 19:return o.next=21,l.a.awrap(e({type:"ERROR_REQUEST"}));case 21:case"end":return o.stop()}}))}))},newCategoryList:function(){return e((function(e){var t,a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={method:"GET",headers:{Authorization:localStorage.getItem("Authorization")}},r.next=3,l.a.awrap(fetch(" http://".concat(E,"/api/v1/data/category/"),t));case 3:return a=r.sent,r.next=6,l.a.awrap(a.json());case 6:return n=r.sent,r.next=9,l.a.awrap(e({type:"GET_CATEGORY_LIST",payload:n}));case 9:case"end":return r.stop()}}))}))}}}))(ia),ua=(a(158),a(58)),sa=a(122),pa=a(9),da=localStorage.getItem("remember"),ma={token:da,isAutorisation:da,errorAutorisation:!1},ga=a(94),fa={list:[],page:{},pageNumber:1,message:"",name:"",description:""},Ea={isOpenNewCard:!1,importance:"L",deadline:Object(f.a)(new Date,"yyyy-MM-dd"),deadlineTime:"00:00",getCategory:""},ha={entrance:!0,accauntMenu:!1},ya={isOpenChangesCard:!1,itemChange:""},ba={token:"",okRegistration:!1,errors:{inputError:!1,error:!1,errorLoginValue:"",errorEmailValue:"",errorPasswordValue:""}},Ca={categoryList:[],category:"",itemChangeCategory:{},openChangeCategory:!1,selectCategoryColor:""},Oa={isOpenCategory:!1,isOpenImportance:!1},va=Object(ua.c)({tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_NEW_TOKEN":case"PUT_NEW_TOKEN_FROM_REFRESH":return Object(pa.a)({},e,{token:t.payload,isAutorisation:!0});case ze:return Object(pa.a)({},e,{isAutorisation:!1});case"ERROR_REQUEST":return Object(pa.a)({},e,{isAutorisation:!1,errorAutorisation:!0});case Fe:return Object(pa.a)({},e,{errorAutorisation:!1});default:return e}},listReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIST":return Object(pa.a)({},e,{list:t.payload,page:t.page});case"SET_PAGE":return Object(pa.a)({},e,{list:t.payload,pageNumber:t.pageNumber});case h:return Object(pa.a)({},e,{name:t.payload});case y:return Object(pa.a)({},e,{description:t.payload});case"MESSAGE_NEW_CARD":return Object(pa.a)({},e,{message:t.payload});case"CLOSE_MESSAGE":return Object(pa.a)({},e,{message:""});case"FILTER_LIST":return Object(pa.a)({},e,{list:t.payload});case"PUT_NEW_POINT_LIST":return Object(pa.a)({},e,{list:[t.payload].concat(Object(ga.a)(e.list))});case"NEW_STATUS":var a=t.payload;return Object(pa.a)({},e,{list:e.list.map((function(e){return e.id===a.id?Object(pa.a)({},e,{status:"Y"===e.status?"N":"Y"}):e}))});case"NEW_CHANGE":var n=t.payload;return Object(pa.a)({},e,{list:e.list.map((function(e){return e.id===n.id?Object(pa.a)({},e,{name:n.name,description:n.description,category:n.category,importance:n.importance}):e}))});default:return e}},newCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:case gt:return Object(pa.a)({},e,{isOpenNewCard:t.payload});case ft:return Object(pa.a)({},e,{importance:t.payload});case Et:return Object(pa.a)({},e,{deadline:t.payload});case ht:return Object(pa.a)({},e,{deadlineTime:t.payload});default:return e}},changeEntranceReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(pa.a)({},e,{accauntMenu:!e.accauntMenu});default:return e}},changesCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case w:return Object(pa.a)({},e,{isOpenChangesCard:t.payload});case R:return Object(pa.a)({},e,{itemChange:t.payload});case A:return Object(pa.a)({},e,{itemChange:Object(pa.a)({},e.itemChange,{name:t.payload})});case T:return Object(pa.a)({},e,{itemChange:Object(pa.a)({},e.itemChange,{description:t.payload})});case k:return Object(pa.a)({},e,{itemChange:Object(pa.a)({},e.itemChange,{category:t.payload})});case _:return Object(pa.a)({},e,{itemChange:Object(pa.a)({},e.itemChange,{importance:t.payload})});default:return e}},registrationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION":return Object(pa.a)({},e,{token:t.payload});case"INPUT_ERROR":return Object(pa.a)({},e,{errors:Object(pa.a)({},e.errors,{inputError:!0})});case"ERROR":return Object(pa.a)({},e,{errors:Object(pa.a)({},e.errors,{error:!0,errorLoginValue:t.login,errorEmailValue:t.email,errorPasswordValue:t.password})});case"OK_REGISTRATION":return Object(pa.a)({},e,{okRegistration:!0});case rt:return Object(pa.a)({},e,{errors:Object(pa.a)({},e.errors,{error:!1,inputError:!1})});default:return e}},categoryListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORY_LIST":return Object(pa.a)({},e,{categoryList:t.payload});case"PUT_NEW_CATEGORY":return Object(pa.a)({},e,{categoryList:[].concat(Object(ga.a)(e.categoryList),[t.payload])});case"CATEGORY_CHANGE":return Object(pa.a)({},e,{category:t.payload});case Ft:return Object(pa.a)({},e,{selectCategoryColor:t.payload});case Pt:return Object(pa.a)({},e,{itemChangeCategory:t.payload,openChangeCategory:!0});case"CLOSE_CATEGORY_CHANGE":return Object(pa.a)({},e,{itemChangeCategory:{},openChangeCategory:!1});case zt:return Object(pa.a)({},e,{itemChangeCategory:Object(pa.a)({},e.itemChangeCategory,{name:t.payload})});case Ht:return Object(pa.a)({},e,{itemChangeCategory:Object(pa.a)({},e.itemChangeCategory,{color:t.payload})});case"DELETE_ITEM_CATEGORY":return Object(pa.a)({},e,{categoryList:e.categoryList.filter((function(e){return e.id!==t.payload.id}))});case"CHANGE_ITEM_CATEGORY":return Object(pa.a)({},e,{categoryList:e.categoryList.map((function(e){return e.id===t.payload.id?Object(pa.a)({},e,{name:t.payload.name,color:t.payload.color}):e}))});default:return e}},menuReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(pa.a)({},e,{isOpenCategory:!e.isOpenCategory});case dt:return Object(pa.a)({},e,{isOpenImportance:!e.isOpenImportance});default:return e}}}),ja=a(127);a.d(t,"history",(function(){return xa}));var xa=Object(ja.a)(),wa=Object(ua.d)(va,Object(ua.a)(sa.a));o.a.render(r.a.createElement(g.a,{store:wa},r.a.createElement(De.a,null,r.a.createElement(la,null))),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.1e6919cb.chunk.js.map