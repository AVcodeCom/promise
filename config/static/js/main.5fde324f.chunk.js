(this["webpackJsonpdo-list"]=this["webpackJsonpdo-list"]||[]).push([[0],{146:function(e,t,a){e.exports=a(159)},158:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),i=a(8),l=a.n(i),u=a(22),s=a(23),p=a(25),m=a(24),d=a(26),g=a(19),f=a(125),E=new URL("http://77.244.65.15:3527/api/v1/data/"),h=new URL("http://77.244.65.15:3527/api/v1/data/promise/"),y="PUT_NEW_NAME",b="PUT_NEW_DESCRIPTION";var C=function(){var e={method:"GET",headers:{Authorization:localStorage.getItem("Authorization")}};return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(fetch("".concat(h,"?status=N"),e));case 2:return a=r.sent,r.next=5,l.a.awrap(a.json());case 5:return n=r.sent,r.next=8,l.a.awrap(t({type:"GET_LIST",payload:n.results,page:n}));case 8:case"end":return r.stop()}}))}},O=function(e,t){var a={method:"GET",headers:{Authorization:localStorage.getItem("Authorization")}};return"page"!==e&&h.searchParams.set("page",1),h.searchParams.set(e,t),function(e){var n,r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(h),o.next=3,l.a.awrap(fetch(h,a));case 3:return n=o.sent,o.next=6,l.a.awrap(n.json());case 6:return r=o.sent,o.next=9,l.a.awrap(e({type:"FILTER_LIST",payload:r.results,page:r,pageNumber:t}));case 9:console.log(r);case 10:case"end":return o.stop()}}))}},j=a(213),v=Object(j.a)("div")({width:"12%",height:"30px",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",background:"#999999"}),x=function(e){var t=e.category,a=e.categoryList;return r.a.createElement(v,{style:{background:function(){var e="";return a.map((function(a){+a.id===+t&&(e=a.color)})),e}()}},function(){var e="";return a.map((function(a){1===+t?e="\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438":+a.id===+t&&(e=a.name)})),e}())},w="OPEN_ChangES_CARD",R="CLOSE_ChangES_CARD",A="PUT_ITEM_ChangE",T="NEW_ITEM_NAME",k="NEW_ITEM_DESCRIPTION",_="PUT_NEW_CHANGE_CATEGORY",I="PUT_HANDLE_CHANGE_IMPORTANCE";var N=a(27),S=a(195),L=a(160),M=a(211),G=a(197),D=a(198),P=a(13),z=a.n(P),F=Object(j.a)("div")({width:"80%",marginTop:"120px",zIndex:"100"}),H=Object(j.a)("div")({width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",marginTop:"20px"}),U=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"contained"},t))}))({background:z.a[400],color:z.a[50],width:"50%"}),W=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({component:"h6",variant:"body1"},t))}))({color:z.a[400]}),Y=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({component:"p",variant:"body1"},t))}))({flexGrow:1}),B=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({component:"h6",variant:"body1"},t))}))({color:"#333333",flexGrow:1}),V=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({component:"p",variant:"body1"},t))}))({color:z.a[400],"& span":{color:"#000"}}),K=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(M.a,t)}))({margin:"10px 0",width:"100%"}),Q=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(G.a,t)}))({paddingLeft:15,borderBottom:"1px solid rgba(0, 0, 0, .125)",display:"flex",justifyContent:"space-between",margin:"0px"}),J=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(D.a,t)}))({display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"space-between"}),X=Object(j.a)("div")({width:"50%",minWidth:300,display:"flex",flexDirection:"column",justifyContent:"space-between"}),q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).importanceColor=function(e){return"L"===e?"51,153,0":"M"===e?"255,204,51":"H"===e?"204,0,0":void 0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.newStatus,o=t.openChangesCard,c=t.putItemChanges,i=t.categoryList;return r.a.createElement(F,null,a.map((function(t){return r.a.createElement(K,{key:t.id},r.a.createElement(Q,{style:{border:"1.5px solid rgba(".concat(e.importanceColor(t.importance),")"),background:"rgba(".concat(e.importanceColor(t.importance),",0.3)")}},r.a.createElement(B,null,t.name),r.a.createElement(x,{category:t.category,categoryList:i})),r.a.createElement(J,null,r.a.createElement(X,null,r.a.createElement(W,null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438:"),r.a.createElement(Y,null,"".concat(t.description)),r.a.createElement(H,null,r.a.createElement(U,{onClick:function(){return n(t)}},"Y"===t.status?"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e"))),r.a.createElement(X,null,r.a.createElement(V,null,"\u0421\u0442\u0430\u0442\u0443\u0441:",r.a.createElement("span",null,"Y"===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e":" \u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e")),r.a.createElement(V,null,"\u0412\u0430\u0436\u043d\u043e\u0441\u0442\u044c:",r.a.createElement("span",null,"L"===t.importance?" \u041d\u0435 \u0432\u0430\u0436\u043d\u043e":"M"===t.importance?" \u0412\u0430\u0436\u043d\u043e":" \u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e")),r.a.createElement(V,null,"\u0414\u0435\u0434\u043b\u0430\u0439\u043d:",r.a.createElement("span",null,t.deadline)),r.a.createElement(H,null,r.a.createElement(U,{onClick:function(){o(),c(t)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))})))}}]),t}(n.Component),Z=Object(g.b)((function(e){return{list:e.listReducer.list,categoryList:e.categoryListReducer.categoryList}}),(function(e){return{putItemChanges:function(t){return e(function(e){return{type:A,payload:e}}(t))},openChangesCard:function(){return e({type:w,payload:!0})},newStatus:function(t){return e(function(e){return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(t({type:"NEW_STATUS",payload:e}));case 2:return(a=new FormData).append("status","Y"===e.status?"N":"Y"),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},r.next=7,l.a.awrap(fetch("".concat(E,"promise/").concat(e.slug,"/"),n));case 7:case"end":return r.stop()}}))}}(t))}}}))(q),$=Object(j.a)("div")({minHeight:"100vh"}),ee=Object(j.a)("div")({width:"100%",height:"90vh",display:"flex",alignItems:"center",justifyContent:"center"}),te=Object(j.a)("div")({display:"flex"}),ae=a(43),ne=a.n(ae),re=a(217),oe=a(216),ce=a(199),ie=a(161),le=a(215),ue=a(209),se=a(117),pe=a.n(se),me=Object(j.a)("div")({padding:"15px",width:"350px"}),de=Object(j.a)("p")({color:"#8d8d8d",fontSize:"12px"}),ge=Object(j.a)("div")({border:"1px solid #bdbdbd",borderRadius:"4px",padding:"10px"}),fe=Object(j.a)(ie.a)({position:"absolute",right:0,top:0}),Ee=Object(j.a)("span")({color:z.a[400],fontSize:"19px"}),he=Object(j.a)("p")({color:z.a[300],fontSize:"16px",marginBottom:"5px"}),ye=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"contained"},t))}))({margin:"20px 0 10px",background:z.a[400],color:z.a[50],width:"100%"}),be=Object(j.a)(le.a)({color:z.a[500],border:"1px solid ".concat(z.a[500]),borderRadius:"5px",width:"100%",padding:"10px"}),Ce=Object(j.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),Oe=Object(j.a)("div")({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& span":{fontSize:"14px",color:z.a[400]}}),je=Object(j.a)(S.a)({color:z.a[400]}),ve=Object(j.a)(pe.a)({fontSize:"17px",textAlign:"center",border:"1px solid ".concat(z.a[500]),borderRadius:"5px",width:"130px",padding:"5px 10px",outline:"none"}),xe=function(e){return r.a.createElement(ue.a,Object.assign({disableRipple:!0,color:"default"},e))},we=function(e){var t=e.categoryList,a=e.category,n=e.putNewChangeCategory;return r.a.createElement("div",null,r.a.createElement(oe.a,{name:"category",value:a,onChange:function(e){var t=e.target.value;n(t)}},t.map((function(e){return r.a.createElement(ce.a,{key:e.id,value:String(e.id),control:r.a.createElement(xe,null),label:e.name})}))))},Re=a(212),Ae=a(208);function Te(e){return r.a.createElement(Ae.a,Object.assign({elevation:6,variant:"filled"},e))}var ke=function(e){var t=e.message,a=e.closeMessage;return r.a.createElement("span",null,r.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:Boolean(t),autoHideDuration:6e3},r.a.createElement(Te,{style:{background:"error"===t?"#da1e28":"#198038"},severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{onClick:function(){return a()},size:"small",color:"inherit"},r.a.createElement(ne.a,{fontSize:"small"})))},"error"===t?"\u041e\u0448\u0438\u0431\u043a\u0430!  \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0438\u043b\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0441\u0435\u0442\u0438":"\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430 ")))},_e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).Change=function(e){var t=e.target,n=t.name,r=t.value;a.props.putNewItem(n,r)},a.handleChangeImportance=function(e){var t=e.target.value;a.props.putHandleChangeImportance(t)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.closeChangesCard,a=e.isOpenChangesCard,n=e.itemChange,o=e.changeItem,c=e.categoryList,i=e.putNewChangeCategory,l=e.message,u=e.closeMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{anchor:"right",open:a,onClose:function(){t()}},r.a.createElement(me,null,r.a.createElement(Ee,null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),r.a.createElement(fe,{onClick:function(){return t()}},r.a.createElement(ne.a,null)),r.a.createElement(he,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "),r.a.createElement(de,null,"*\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u041d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.a.createElement(be,{name:"name",value:n.name,onChange:this.Change}),r.a.createElement(he,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),r.a.createElement(be,{name:"description",value:n.description,onChange:this.Change,multiline:!0,rows:"5"}),r.a.createElement(he,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: "),r.a.createElement(ge,null,r.a.createElement(we,{categoryList:c,category:n.category,putNewChangeCategory:i})),r.a.createElement(he,null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438: "),r.a.createElement(ge,null,r.a.createElement(oe.a,{name:"importance",value:n.importance,onChange:this.handleChangeImportance},r.a.createElement(ce.a,{value:"L",control:r.a.createElement(xe,null),label:"\u041d\u0435 \u0432\u0430\u0436\u043d\u043e"}),r.a.createElement(ce.a,{value:"M",control:r.a.createElement(xe,null),label:"\u0412\u0430\u0436\u043d\u043e"}),r.a.createElement(ce.a,{value:"H",control:r.a.createElement(xe,null),label:"\u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e"}))),r.a.createElement(ye,{onClick:function(){o(n),t()}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))),r.a.createElement(ke,{message:l,closeMessage:u}))}}]),t}(n.Component),Ie=Object(g.b)((function(e){return{isOpenChangesCard:e.changesCardReducer.isOpenChangesCard,itemChange:e.changesCardReducer.itemChange,categoryList:e.categoryListReducer.categoryList,message:e.listReducer.message}}),(function(e){return{putNewChangeCategory:function(t){return e({type:_,payload:t})},putHandleChangeImportance:function(t){return e({type:I,payload:t})},closeChangesCard:function(){return e({type:R,payload:!1})},changeItem:function(t){return e(function(e){return function(t){var a,n,r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(t({type:"NEW_CHANGE",payload:e}));case 2:return(a=new FormData).append("name",e.name),a.append("description",e.description),a.append("category",e.category),a.append("importance",e.importance),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},o.next=10,l.a.awrap(fetch("".concat(E,"promise/").concat(e.slug,"/"),n));case 10:if(!(r=o.sent).ok){o.next=16;break}return o.next=14,l.a.awrap(t({type:"MESSAGE_NEW_CARD",payload:"good"}));case 14:o.next=19;break;case 16:if(r.ok){o.next=19;break}return o.next=19,l.a.awrap(t({type:"MESSAGE_NEW_CARD",payload:"error"}));case 19:case"end":return o.stop()}}))}}(t))},putNewItem:function(t,a){return e(function(e,t){switch(e){case"name":return{type:T,payload:t.slice(0,32)};case"description":return{type:k,payload:t}}}(t,a))},closeMessage:function(){return e({type:"CLOSE_MESSAGE"})}}}))(_e),Ne=a(207),Se=a(20),Le=a(100),Me=a(7),Ge=a(124),De=a(203),Pe=a(205),ze=a(31),Fe=a(123),He=Object(Ge.a)({palette:{primary:z.a}}),Ue=Object(Me.a)({root:{width:"100%",margin:"10px 0 25px",fontSize:"17px","& label.Mui-focused":{color:z.a[400]},"& .MuiInput-underline:after":{borderBottomColor:z.a[400]},"&:hover .MuiInput-underline:after":{borderBottomColor:z.a[400]},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:z.a[400]},"&:hover fieldset":{borderColor:z.a[400]},"&.Mui-focused fieldset":{borderColor:z.a[400]}}}})(Pe.a),We=function(e){var t=e.deadline,a=e.deadlineChange,n=e.deadlineTimeChange,o=e.deadlineTime,c=function(e){a(Object(f.a)(e,"yyyy-MM-dd"))};return r.a.createElement(Ce,null,r.a.createElement(Oe,null,r.a.createElement(je,{onClick:function(){return c(new Date)}},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),r.a.createElement(je,{onClick:function(){return c(Object(Le.a)(new Date,1))}},"\u0417\u0430\u0432\u0442\u0440\u0430"),r.a.createElement(je,{onClick:function(){return c(Object(Le.a)(new Date,7))}},"\u0427\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e")),r.a.createElement(De.a,{theme:He},r.a.createElement(ze.a,{utils:Fe.a},r.a.createElement(Ue,{disableToolbar:!0,variant:"inline",format:"yyyy.MM.dd",label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0432\u043e\u044e \u0434\u0430\u0442\u0443",value:t,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(Oe,null,r.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f:"),r.a.createElement(ve,{initTime:o,onTimeChange:function(e){n(e)}})))},Ye=function(e){var t=e.categoryList,a=e.category,n=e.categoryChange;return r.a.createElement("div",null,r.a.createElement(oe.a,{name:"category",value:a,onChange:function(e){var t=e.target.value;n(t)}},t.map((function(e){return r.a.createElement(ce.a,{key:e.name,value:String(e.id),control:r.a.createElement(xe,null),label:e.name})}))))},Be="OPEN_NEW_CARD",Ve="CLOSE_TOP_CARD",Ke="IMPORTANCE_CHANGE",Qe="DEADLINE_CHANGE",Je="DEADLINE_TIME_CHANGE";var Xe="PUT_ITEM_CHANGE_CATEGORY",qe="PUT_NEW_ITEM_CATEGORY",Ze="PUT_SELECT_CATEGORY_COLOR",$e="PUT_NEW_COLOR_CATEGORY";var et=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChangeImportance=function(e){var t=e.target.value;a.props.importanceChange(t)},a.Change=function(e){var t=e.target,n=t.name,r=t.value;a.props.putNewRecord(n,r)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpenNewCard,a=e.closeNewCard,n=e.newPointList,o=e.importance,c=e.deadline,i=e.deadlineTime,l=e.deadlineChange,u=e.deadlineTimeChange,s=e.categoryList,p=e.category,m=e.categoryChange,d=e.message,g=e.closeMessage,f=e.name,E=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{anchor:"right",open:t,onClose:function(){a()}},r.a.createElement(me,null,r.a.createElement(Ee,null,"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"),r.a.createElement(fe,{onClick:function(){return a()}},r.a.createElement(ne.a,null)),r.a.createElement(he,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "),r.a.createElement(de,null,"*\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u041d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.a.createElement(be,{name:"name",value:f,onChange:this.Change}),r.a.createElement(he,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),r.a.createElement(be,{name:"description",value:E,onChange:this.Change,multiline:!0,rows:"5"}),r.a.createElement(he,null,"\u0414\u0435\u0434\u043b\u0430\u0439\u043d: "),r.a.createElement(ge,null,r.a.createElement(We,{deadline:c,deadlineChange:l,deadlineTimeChange:u,deadlineTime:i})),r.a.createElement(he,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: "),r.a.createElement(ge,null,r.a.createElement(Ye,{categoryList:s,category:p,categoryChange:m})),r.a.createElement(he,null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438: "),r.a.createElement(ge,null,r.a.createElement(oe.a,{name:"importance",value:o,onChange:this.handleChangeImportance},r.a.createElement(ce.a,{value:"L",control:r.a.createElement(xe,null),label:"\u041d\u0435 \u0432\u0430\u0436\u043d\u043e"}),r.a.createElement(ce.a,{value:"M",control:r.a.createElement(xe,null),label:"\u0412\u0430\u0436\u043d\u043e"}),r.a.createElement(ce.a,{value:"H",control:r.a.createElement(xe,null),label:"\u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e"}))),r.a.createElement(ye,{onClick:function(){n(f,E,o,c,i,p),a()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),r.a.createElement(ke,{message:d,closeMessage:g}))}}]),t}(n.Component),tt=Object(g.b)((function(e){return{isOpenNewCard:e.newCardReducer.isOpenNewCard,importance:e.newCardReducer.importance,deadline:e.newCardReducer.deadline,deadlineTime:e.newCardReducer.deadlineTime,categoryList:e.categoryListReducer.categoryList,category:e.categoryListReducer.category,message:e.listReducer.message,name:e.listReducer.name,description:e.listReducer.description}}),(function(e){return{closeNewCard:function(){return e({type:Ve,payload:!1})},putNewRecord:function(t,a){return e(function(e,t){switch(e){case"name":return{type:y,payload:t.slice(0,32)};case"description":return{type:b,payload:t}}}(t,a))},importanceChange:function(t){return e(function(e){return{type:Ke,payload:e}}(t))},categoryChange:function(t){return e(function(e){return{type:"CATEGORY_CHANGE",payload:e}}(t))},deadlineChange:function(t){return e(function(e){return{type:Qe,payload:e}}(t))},deadlineTimeChange:function(t){return e(function(e){return{type:Je,payload:e}}(t))},closeMessage:function(){return e({type:"CLOSE_MESSAGE"})},newPointList:function(t,a,n,r,o,c){return e(function(e,t,a,n,r,o){return function(c){var i,u,s,p;return l.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,l.a.awrap(c({type:"PUT_NEW_POINT_LIST",payload:{id:Date.now(),name:e,description:t,status:"N",importance:a,deadline:n+" "+r,category:o}}));case 2:return console.log(r),i=new FormData,u=Object(f.a)(new Date(n+" "+r),"yyyy-MM-dd HH:mm"),i.append("name",e),i.append("description",t),i.append("status","N"),i.append("importance",a),i.append("deadline",u),o&&i.append("category",o),s={body:i,headers:{Authorization:localStorage.getItem("Authorization")},method:"POST"},m.next=14,l.a.awrap(fetch("".concat(E,"promise/new/"),s));case 14:if(!(p=m.sent).ok){m.next=20;break}return m.next=18,l.a.awrap(c({type:"MESSAGE_NEW_CARD",payload:"good"}));case 18:m.next=23;break;case 20:if(p.ok){m.next=23;break}return m.next=23,l.a.awrap(c({type:"MESSAGE_NEW_CARD",payload:"error"}));case 23:case"end":return m.stop()}}))}}(t,a,n,r,o,c))}}}))(et),at="CLICK_CATEGORY",nt="CLICK_IMPORTANCE";var rt=a(30),ot=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(re.a,Object.assign({variant:"permanent"},t))}))({width:"240px",background:"#ffffff",zIndex:"250",flexShrink:0,"& .MuiDrawer-paper":{top:"57px",height:"calc(100% - 55px)"}}),ct=Object(j.a)("div")({padding:"20px 0",borderBottom:"1px solid rgba(0, 0, 0, .125) ",width:"240px",display:"flex",flexDirection:"column"}),it=Object(j.a)("span")({padding:"10px 20px","&:hover":{cursor:"pointer",background:"#cfd8dc",opacity:.7},"& a":{color:"rgba(0, 0, 0, 0.87)",textDecoration:"none"}}),lt=Object(j.a)("span")({display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"spaceBetween",fontSize:"16px",margin:"0px",padding:"10px 20px",color:"#78909c","& h3":{margin:0},"&:hover":{cursor:"pointer"}}),ut=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.clickCategory,a=e.clickImportence,n=e.isOpenCategory,o=e.isOpenImportance,c=e.categoryList,i=e.openNewCard,l=e.filterList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null,r.a.createElement("section",null,r.a.createElement(ct,null,r.a.createElement(it,{onClick:function(){i()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement(it,null,r.a.createElement(rt.b,{to:"/settings"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(ct,null,r.a.createElement(it,{onClick:function(){l("status","N")}},r.a.createElement(rt.b,{to:"/"}," \u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e")),r.a.createElement(it,{onClick:function(){l("status","Y")}},r.a.createElement(rt.b,{to:"/"},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e"))),r.a.createElement(ct,null,r.a.createElement(lt,{onClick:function(){return a()}},r.a.createElement("h3",null,"\u0412\u0430\u0436\u043d\u043e\u0441\u0442\u044c")),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{onClick:function(){l("importance","L")}},r.a.createElement(rt.b,{to:"/"}," \u041d\u0435 \u0432\u0430\u0436\u043d\u043e")),r.a.createElement(it,{onClick:function(){l("importance","M")}},r.a.createElement(rt.b,{to:"/"},"\u0412\u0430\u0436\u043d\u043e")),r.a.createElement(it,{onClick:function(){l("importance","H")}},r.a.createElement(rt.b,{to:"/"}," \u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0436\u043d\u043e"))):null),r.a.createElement(ct,null,r.a.createElement(lt,{onClick:function(){return t()}},r.a.createElement("h3",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),n?r.a.createElement(r.a.Fragment,null,c.map((function(e){return r.a.createElement(it,{key:e.id,onClick:function(){l("category",e.id)}},r.a.createElement(rt.b,{to:"/"}," ",e.name))})),r.a.createElement(it,{onClick:function(){l("category",1)}},r.a.createElement(rt.b,{to:"/"}," \u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"))):null))))}}]),t}(n.Component),st=Object(g.b)((function(e){return{isOpenCategory:e.menuReducer.isOpenCategory,isOpenImportance:e.menuReducer.isOpenImportance,categoryList:e.categoryListReducer.categoryList}}),(function(e){return{clickCategory:function(){return e({type:at})},clickImportence:function(){return e({type:nt})},openNewCard:function(){return e({type:Be,payload:!0})},filterList:function(t,a){return e(O(t,a))}}}))(ut),pt=["#012749 ","#0072c3","#31135e","#520408","#0e6027","#2d0709","#996600"],mt=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"contained"},t))}))({background:z.a[400],color:z.a[50],maxWidth:"280px",marginBottom:"20px",marginRight:"20px"}),dt=Object(j.a)("div")({flexGrow:1,marginTop:"55px",padding:"20px 50px"}),gt=Object(j.a)("div")({width:"40%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"15px 0"}),ft=Object(j.a)("span")({width:"35px",height:"35px",borderRadius:"5px",marginRight:"10px","&:hover":{cursor:"pointer"}}),Et=Object(j.a)(le.a)({fontSize:"15px",textAlign:"center",border:"1px solid ".concat(z.a[500]),borderRadius:"5px",width:"40%",padding:"5px 10px",outline:"none"}),ht=Object(j.a)("p")({flexGrow:1,margin:0}),yt=Object(j.a)("span")({display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"spaceBetween",fontSize:"20px",margin:"0px",color:"#78909c"}),bt=Object(j.a)(ie.a)({marginLeft:"15px",width:"30px",height:"30px",color:z.a[600],background:z.a[50]}),Ct=function(e){var t=e.itemChangeCategory,a=e.putNewItemCategory,n=e.closeChangeCategory,o=e.changeItemCategory,c=e.putNewColorCategory;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Et,{value:t.name,onChange:function(e){var t=e.target.value;a(t)},style:{border:"1.5px solid ".concat(t.color)}})),r.a.createElement(gt,null,pt.map((function(e){return r.a.createElement(ft,{key:e,style:{background:e,borderRadius:t.color===e?"50%":"5px",boxShadow:t.color===e?"0px 0px 12px 1px #78909C":"none"},onClick:function(){return c(e)}})}))),r.a.createElement(mt,{onClick:function(){o(t),n()}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(mt,{onClick:function(){return n()}},"\u041e\u0442\u043c\u0435\u043d\u0430"))},Ot=a(119),jt=a.n(Ot),vt=a(120),xt=a.n(vt),wt=Object(j.a)(le.a)({border:"1px solid ".concat(z.a[300]),borderRadius:"5px",width:"320px",padding:"10px",marginBottom:"15px"}),Rt=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(S.a,Object.assign({variant:"contained"},t))}))({background:z.a[400],color:z.a[50],width:"320px"}),At=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({variant:"h2",gutterBottom:!0},t))}))({margin:"20px 0 10px",color:z.a[400],fontSize:"54px"}),Tt=Object(j.a)("div")({maxWidth:"400px",width:"100%",height:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),kt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).inputCategory=r.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.putNewCategory,o=t.categoryList,c=t.putItemChangesCategory,i=t.itemChangeCategory,l=t.openChangeCategory,u=t.closeChangeCategory,s=t.putNewItemCategory,p=t.changeItemCategory,m=t.deleteItemCategory,d=t.putSelectCategoryColor,g=t.selectCategoryColor,f=t.putNewColorCategory;console.log(o);var E=l?r.a.createElement(Ct,{itemChangeCategory:i,putNewItemCategory:s,closeChangeCategory:u,changeItemCategory:p,putNewColorCategory:f}):null;return r.a.createElement(dt,null,r.a.createElement(At,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(yt,null,r.a.createElement("h3",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(gt,null,r.a.createElement(ht,null,e.name," "),r.a.createElement(bt,{onClick:function(){return m(e)}},r.a.createElement(jt.a,null)),r.a.createElement(bt,{onClick:function(){return c(e)}},r.a.createElement(xt.a,null))),i.id===e.id?E:null)}))),r.a.createElement("div",null,r.a.createElement(Et,{inputRef:this.inputCategory,style:{border:"1.5px solid ".concat(g)}})),r.a.createElement(gt,null,pt.map((function(e){return r.a.createElement(ft,{key:e,style:{background:e,borderRadius:g===e?"50%":"5px",boxShadow:g===e?"0px 0px 12px 1px #78909C":"none"},onClick:function(){return d(e)}})}))),r.a.createElement(mt,{onClick:function(){return a(e.inputCategory.current.value,g)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),t}(n.Component),_t=Object(g.b)((function(e){return{newCategory:e.newCardReducer.newCategory,categoryList:e.categoryListReducer.categoryList,itemChangeCategory:e.categoryListReducer.itemChangeCategory,openChangeCategory:e.categoryListReducer.openChangeCategory,selectCategoryColor:e.categoryListReducer.selectCategoryColor}}),(function(e){return{putNewCategory:function(t,a){return e(function(e,t){return function(a){var n,r;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(a({type:"PUT_NEW_CATEGORY",payload:{name:e,color:t}}));case 2:return(n=new FormData).append("name",e),n.append("color",t),r={body:n,headers:{Authorization:localStorage.getItem("Authorization")},method:"POST"},o.next=8,l.a.awrap(fetch("".concat(E,"category/new/"),r));case 8:case"end":return o.stop()}}))}}(t,a))},putSelectCategoryColor:function(t){return e(function(e){return{type:Ze,payload:e}}(t))},closeChangeCategory:function(){return e({type:"CLOSE_CATEGORY_CHANGE"})},putNewItemCategory:function(t){return e(function(e){return{type:qe,payload:e}}(t))},putNewColorCategory:function(t){return e(function(e){return{type:$e,payload:e}}(t))},changeItemCategory:function(t){return e(function(e){return function(t){var a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.awrap(t({type:"CHANGE_ITEM_CATEGORY",payload:e}));case 2:return(a=new FormData).append("name",e.name),a.append("color",e.color),n={body:a,headers:{Authorization:localStorage.getItem("Authorization")},method:"PATCH"},r.next=8,l.a.awrap(fetch("".concat(E,"category/").concat(e.id,"/"),n));case 8:case"end":return r.stop()}}))}}(t))},putItemChangesCategory:function(t){return e(function(e){return{type:Xe,payload:e}}(t))},deleteItemCategory:function(t){return e(function(e){return function(t){var a;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(t({type:"DELETE_ITEM_CATEGORY",payload:e}));case 2:return a={headers:{Authorization:localStorage.getItem("Authorization")},method:"DELETE"},n.next=5,l.a.awrap(fetch("".concat(E,"category/").concat(e.id,"/"),a));case 5:case"end":return n.stop()}}))}}(t))}}}))(kt),It=Object(j.a)("div")({flexGrow:1}),Nt=Object(j.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),St=Object(j.a)("div")({position:"fixed",width:"calc(80% - 240px)",height:"auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",padding:"20px 10%",margin:"55px auto",zIndex:"200",background:"#f7f7f7"}),Lt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handlePagination=function(e,t){console.log(t),a.props.filterList("page",t)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.pageNumber,o=e.isAutorisation,c=Math.ceil(t.count/15);return o?r.a.createElement(te,null,r.a.createElement(st,null),r.a.createElement(tt,null),r.a.createElement(Se.d,null,r.a.createElement(n.Fragment,null,r.a.createElement(Se.b,{component:_t,path:"/settings"}),r.a.createElement(It,null,r.a.createElement(Ie,null),r.a.createElement(St,null,c<1?null:r.a.createElement(Ne.a,{count:c,variant:"outlined",shape:"rounded",page:a,onChange:this.handlePagination})),r.a.createElement(Nt,null,r.a.createElement(Se.b,{exact:!0,component:Z,path:"/"})))))):r.a.createElement(Se.a,{to:"/authorisation"})}}]),t}(n.Component),Mt=Object(g.b)((function(e){return{page:e.listReducer.page,pageNumber:e.listReducer.pageNumber}}),(function(e){return{filterList:function(t,a){return e(O(t,a))}}}))(Lt),Gt=a(202),Dt=a(214),Pt=a(126),zt="OPEN_ACCAUNT_MENU";var Ft="EXIT_ACCAUNT",Ht="CLOSE_ERROR";var Ut=a(204),Wt=a(121),Yt=a.n(Wt),Bt=Object(j.a)((function(e){var t=Object(N.a)({},e);return r.a.createElement(L.a,Object.assign({variant:"h4"},t))}))({color:"#ffffff",flexGrow:1}),Vt=Object(j.a)(S.a)({"& a":{color:"#ffffff",textDecoration:"none"}}),Kt=Object(j.a)(Ut.a)({background:"#607d8b",position:"fixed",zIndex:"500",height:"55px"}),Qt=Object(j.a)(Yt.a)({color:"#ffffff",width:"30px",height:"30px",borderRadius:"50%"}),Jt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAutorisation,a=e.openAccauntMenu,o=e.accauntMenu,c=e.exitAccaunt;return r.a.createElement(Kt,null,r.a.createElement(Gt.a,{variant:"dense"},r.a.createElement(Bt,null,"Promise"),t?r.a.createElement(n.Fragment,null,r.a.createElement(ie.a,{onClick:function(){return a()}},r.a.createElement(Qt,null)),r.a.createElement(Pt.a,{getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},open:o,onClick:function(){return a()}},r.a.createElement(Dt.a,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(Dt.a,{onClick:function(){c()}},"\u0412\u044b\u0439\u0442\u0438"))):r.a.createElement(n.Fragment,null,r.a.createElement(Vt,null,r.a.createElement(rt.b,{to:"/registration"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(Vt,null,r.a.createElement(rt.b,{to:"/authorisation"},"\u0412\u0445\u043e\u0434")))))}}]),t}(n.Component),Xt=Object(g.b)((function(e){return{accauntMenu:e.changeEntranceReducer.accauntMenu}}),(function(e){return{openAccauntMenu:function(){return e({type:zt})},exitAccaunt:function(){return e((localStorage.clear(),{type:Ft}))}}}))(Jt);var qt=Object(j.a)((function(e){return r.a.createElement(Ae.a,Object.assign({elevation:6,variant:"filled"},e))}))({background:"#e57373"}),Zt=function(e){var t=e.registerError,a=e.closeErrorRegistration;return r.a.createElement("span",null,r.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t.error,autoHideDuration:6e3},r.a.createElement(qt,{severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{onClick:function(){return a()},size:"small","aria-label":"close",color:"inherit"},r.a.createElement(ne.a,{fontSize:"small"})))},r.a.createElement("span",null,t.errorLoginValue),r.a.createElement("span",null,t.errorEmailValue),r.a.createElement("span",null,t.errorPasswordValue))))},$t=function(e){var t=e.registration,a=e.registerError,o=e.closeErrorRegistration,c=Object(n.createRef)(),i=Object(n.createRef)(),l=Object(n.createRef)(),u=function(){t(c.current.value,i.current.value,l.current.value)};return r.a.createElement("div",null,r.a.createElement(Tt,{onKeyUp:function(e){"Enter"===e.key&&u()}},r.a.createElement(At,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(wt,{placeholder:"\u041b\u043e\u0433\u0438\u043d",inputRef:i}),r.a.createElement(wt,{placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",inputRef:c}),r.a.createElement(wt,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",inputRef:l}),r.a.createElement(Rt,{onClick:u},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(Zt,{registerError:a,closeErrorRegistration:o}))},ea=function(){return r.a.createElement(Tt,null,r.a.createElement(At,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e..."),r.a.createElement(At,null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"))},ta="CLOSE_ERROR";var aa=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.registration,a=e.registerError,n=e.closeErrorRegistration;return r.a.createElement(ee,null,this.props.okRegistration?r.a.createElement(ea,null):r.a.createElement($t,{registration:t,registerError:a,closeErrorRegistration:n}))}}]),t}(n.Component),na=Object(g.b)((function(e){return{registerError:e.registrationReducer.errors,okRegistration:e.registrationReducer.okRegistration}}),(function(e){return{registration:function(t,a,n){return e(function(e,t,a){return function(n){var r,o,c,i;return l.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return(r=new FormData).append("username",t),r.append("password",a),r.append("email",e),o={method:"POST",body:r},u.next=7,l.a.awrap(fetch("".concat(E,"auth/users/"),o));case 7:return c=u.sent,u.next=10,l.a.awrap(c.json());case 10:if(i=u.sent,!c.ok){u.next=16;break}return u.next=14,l.a.awrap(n({type:"OK_REGISTRATION"}));case 14:u.next=20;break;case 16:if(c.ok){u.next=20;break}return u.next=19,l.a.awrap(n({type:"ERROR",login:i.username,email:i.email,password:i.password}));case 19:console.log(i);case 20:case"end":return u.stop()}}))}}(t,a,n))},closeErrorRegistration:function(){return e({type:ta})}}}))(aa);var ra=Object(j.a)((function(e){return r.a.createElement(Ae.a,Object.assign({elevation:6,variant:"filled"},e))}))({background:"#e57373"}),oa=function(e){var t=e.errorAutorisation,a=e.closeError;return r.a.createElement("span",null,r.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:6e3},r.a.createElement(ra,{severity:"error",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{onClick:function(){return a()},size:"small","aria-label":"close",color:"inherit"},r.a.createElement(ne.a,{fontSize:"small"})))},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")))},ca=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).loginValue=Object(n.createRef)(),a.passwordValue=Object(n.createRef)(),a.toAutrosation=function(){var e,t,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props,t=e.autorisation,n=e.newList,r.next=3,l.a.awrap(t(a.loginValue.current.value,a.passwordValue.current.value));case 3:return r.next=5,l.a.awrap(n());case 5:case"end":return r.stop()}}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.errorAutorisation,n=t.closeError;return t.isAutorisation?r.a.createElement(Se.a,{to:"/"}):r.a.createElement(ee,null,r.a.createElement(Tt,{onKeyUp:function(t){"Enter"===t.key&&e.toAutrosation()}},r.a.createElement(At,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(wt,{placeholder:"\u041b\u043e\u0433\u0438\u043d",inputRef:this.loginValue}),r.a.createElement(wt,{placeholder:"Password",type:"password",autoComplete:"current-password",inputRef:this.passwordValue}),r.a.createElement(Rt,{onClick:this.toAutrosation},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(oa,{errorAutorisation:a,closeError:n}))}}]),t}(n.Component),ia=Object(g.b)((function(e){return{errorAutorisation:e.tokenReducer.errorAutorisation}}),(function(e){return{newList:function(){return e(C())},autorisation:function(t,a){return e(function(e,t){return function(a){var n,r,o,c;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new FormData).append("username",e),n.append("password",t),r={method:"POST",body:n},i.next=6,l.a.awrap(fetch("".concat(E,"auth/jwt/create/"),r));case 6:return o=i.sent,i.next=9,l.a.awrap(o.json());case 9:if(c=i.sent,!o.ok){i.next=23;break}return i.next=13,l.a.awrap(localStorage.setItem("Authorization","Bearer ".concat(c.access)));case 13:return i.next=15,l.a.awrap(localStorage.setItem("remember","true"));case 15:return i.next=17,l.a.awrap(localStorage.setItem("tokenData",Date.now()));case 17:return i.next=19,l.a.awrap(localStorage.setItem("refresh",c.refresh));case 19:return i.next=21,l.a.awrap(a({type:"PUT_NEW_TOKEN",payload:"Bearer ".concat(c.access)}));case 21:i.next=27;break;case 23:return i.next=25,l.a.awrap(localStorage.clear());case 25:return i.next=27,l.a.awrap(a({type:"ERROR_REQUEST"}));case 27:case"end":return i.stop()}}))}}(t,a))},closeError:function(){return e({type:Ht})}}}))(ca),la=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"refresh",value:function(){this.props.newTokenFromRefresh()}},{key:"componentDidMount",value:function(){var e,t,a,n,r,o,c;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.isAutorisation,a=e.newTokenFromRefresh,n=e.newList,r=e.newCategoryList,i.next=3,l.a.awrap(localStorage.getItem("remember"));case 3:return i.t0=i.sent,o="true"===i.t0,i.next=7,l.a.awrap(localStorage.getItem("tokenData"));case 7:if(c=i.sent,!o){i.next=17;break}if(!t){i.next=16;break}return i.next=12,l.a.awrap(a());case 12:return i.next=14,l.a.awrap(r());case 14:return i.next=16,l.a.awrap(n());case 16:Date.now()>=5e3*c&&a();case 17:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.isAutorisation;return r.a.createElement(Se.d,null,r.a.createElement(n.Fragment,null,r.a.createElement($,null,r.a.createElement(Xt,{isAutorisation:e}),r.a.createElement(Se.b,{path:"/",render:function(){return r.a.createElement(Mt,{isAutorisation:e})}}),r.a.createElement(Se.b,{path:"/authorisation",render:function(){return r.a.createElement(ia,{isAutorisation:e})}}),r.a.createElement(Se.b,{path:"/registration",component:na}))))}}]),t}(n.Component),ua=Object(g.b)((function(e){return{isAutorisation:e.tokenReducer.isAutorisation,parameters:e.listReducer.parameters}}),(function(e){return{newList:function(){return e(C())},newTokenFromRefresh:function(){return e((function(e){var t,a,n,r,o;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=localStorage.getItem("refresh"),(a=new FormData).append("refresh",t),n={body:a,method:"POST"},c.next=6,l.a.awrap(fetch("".concat(E,"auth/jwt/refresh/"),n));case 6:if(!(r=c.sent).ok){c.next=17;break}return c.next=10,l.a.awrap(r.json());case 10:return o=c.sent,c.next=13,l.a.awrap(localStorage.setItem("Authorization","Bearer ".concat(o.access)));case 13:return c.next=15,l.a.awrap(e({type:"PUT_NEW_TOKEN_FROM_REFRESH",payload:"Bearer ".concat(o.access)}));case 15:c.next=21;break;case 17:return c.next=19,l.a.awrap(localStorage.clear());case 19:return c.next=21,l.a.awrap(e({type:"ERROR_REQUEST"}));case 21:case"end":return c.stop()}}))}))},newCategoryList:function(){return e((function(e){var t,a,n;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={method:"GET",headers:{Authorization:localStorage.getItem("Authorization")}},r.next=3,l.a.awrap(fetch(" ".concat(E,"category/"),t));case 3:return a=r.sent,r.next=6,l.a.awrap(a.json());case 6:return n=r.sent,r.next=9,l.a.awrap(e({type:"GET_CATEGORY_LIST",payload:n}));case 9:case"end":return r.stop()}}))}))}}}))(la),sa=(a(158),a(58)),pa=a(122),ma=a(9),da=localStorage.getItem("remember"),ga={token:da,isAutorisation:Boolean(da),errorAutorisation:!1},fa=a(94),Ea={list:[],page:{},pageNumber:1,message:"",name:"",description:""},ha={isOpenNewCard:!1,importance:"L",deadline:Object(f.a)(new Date,"yyyy-MM-dd"),deadlineTime:"00:00",getCategory:""},ya={entrance:!0,accauntMenu:!1},ba={isOpenChangesCard:!1,itemChange:""},Ca={token:"",okRegistration:!1,errors:{inputError:!1,error:!1,errorLoginValue:"",errorEmailValue:"",errorPasswordValue:""}},Oa={categoryList:[],category:"",itemChangeCategory:{},openChangeCategory:!1,selectCategoryColor:""},ja={isOpenCategory:!1,isOpenImportance:!1},va=Object(sa.c)({tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_NEW_TOKEN":case"PUT_NEW_TOKEN_FROM_REFRESH":return Object(ma.a)({},e,{token:t.payload,isAutorisation:!0});case Ft:return Object(ma.a)({},e,{isAutorisation:!1});case"ERROR_REQUEST":return Object(ma.a)({},e,{isAutorisation:!1,errorAutorisation:!0});case Ht:return Object(ma.a)({},e,{errorAutorisation:!1});default:return e}},listReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIST":return Object(ma.a)({},e,{list:t.payload,page:t.page});case y:return Object(ma.a)({},e,{name:t.payload});case b:return Object(ma.a)({},e,{description:t.payload});case"MESSAGE_NEW_CARD":return Object(ma.a)({},e,{message:t.payload});case"CLOSE_MESSAGE":return Object(ma.a)({},e,{message:""});case"FILTER_LIST":return Object(ma.a)({},e,{list:t.payload,page:t.page,pageNumber:t.pageNumber});case"PUT_NEW_POINT_LIST":return Object(ma.a)({},e,{list:[t.payload].concat(Object(fa.a)(e.list))});case"NEW_STATUS":var a=t.payload;return Object(ma.a)({},e,{list:e.list.map((function(e){return e.id===a.id?Object(ma.a)({},e,{status:"Y"===e.status?"N":"Y"}):e}))});case"NEW_CHANGE":var n=t.payload;return Object(ma.a)({},e,{list:e.list.map((function(e){return e.id===n.id?Object(ma.a)({},e,{name:n.name,description:n.description,category:n.category,importance:n.importance}):e}))});default:return e}},newCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:case Ve:return Object(ma.a)({},e,{isOpenNewCard:t.payload});case Ke:return Object(ma.a)({},e,{importance:t.payload});case Qe:return Object(ma.a)({},e,{deadline:t.payload});case Je:return Object(ma.a)({},e,{deadlineTime:t.payload});default:return e}},changeEntranceReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(ma.a)({},e,{accauntMenu:!e.accauntMenu});default:return e}},changesCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case R:return Object(ma.a)({},e,{isOpenChangesCard:t.payload});case A:return Object(ma.a)({},e,{itemChange:t.payload});case T:return Object(ma.a)({},e,{itemChange:Object(ma.a)({},e.itemChange,{name:t.payload})});case k:return Object(ma.a)({},e,{itemChange:Object(ma.a)({},e.itemChange,{description:t.payload})});case _:return Object(ma.a)({},e,{itemChange:Object(ma.a)({},e.itemChange,{category:t.payload})});case I:return Object(ma.a)({},e,{itemChange:Object(ma.a)({},e.itemChange,{importance:t.payload})});default:return e}},registrationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION":return Object(ma.a)({},e,{token:t.payload});case"INPUT_ERROR":return Object(ma.a)({},e,{errors:Object(ma.a)({},e.errors,{inputError:!0})});case"ERROR":return Object(ma.a)({},e,{errors:Object(ma.a)({},e.errors,{error:!0,errorLoginValue:t.login,errorEmailValue:t.email,errorPasswordValue:t.password})});case"OK_REGISTRATION":return Object(ma.a)({},e,{okRegistration:!0});case ta:return Object(ma.a)({},e,{errors:Object(ma.a)({},e.errors,{error:!1,inputError:!1})});default:return e}},categoryListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORY_LIST":return Object(ma.a)({},e,{categoryList:t.payload});case"PUT_NEW_CATEGORY":return Object(ma.a)({},e,{categoryList:[].concat(Object(fa.a)(e.categoryList),[t.payload])});case"CATEGORY_CHANGE":return Object(ma.a)({},e,{category:t.payload});case Ze:return Object(ma.a)({},e,{selectCategoryColor:t.payload});case Xe:return Object(ma.a)({},e,{itemChangeCategory:t.payload,openChangeCategory:!0});case"CLOSE_CATEGORY_CHANGE":return Object(ma.a)({},e,{itemChangeCategory:{},openChangeCategory:!1});case qe:return Object(ma.a)({},e,{itemChangeCategory:Object(ma.a)({},e.itemChangeCategory,{name:t.payload})});case $e:return Object(ma.a)({},e,{itemChangeCategory:Object(ma.a)({},e.itemChangeCategory,{color:t.payload})});case"DELETE_ITEM_CATEGORY":return Object(ma.a)({},e,{categoryList:e.categoryList.filter((function(e){return e.id!==t.payload.id}))});case"CHANGE_ITEM_CATEGORY":return Object(ma.a)({},e,{categoryList:e.categoryList.map((function(e){return e.id===t.payload.id?Object(ma.a)({},e,{name:t.payload.name,color:t.payload.color}):e}))});default:return e}},menuReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(ma.a)({},e,{isOpenCategory:!e.isOpenCategory});case nt:return Object(ma.a)({},e,{isOpenImportance:!e.isOpenImportance});default:return e}}}),xa=a(127);a.d(t,"history",(function(){return wa}));var wa=Object(xa.a)(),Ra=Object(sa.d)(va,Object(sa.a)(pa.a));c.a.render(r.a.createElement(g.a,{store:Ra},r.a.createElement(rt.a,null,r.a.createElement(ua,null))),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.5fde324f.chunk.js.map